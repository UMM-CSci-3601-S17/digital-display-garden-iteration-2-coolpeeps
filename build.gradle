evaluationDependsOn ":client"
evaluationDependsOn ":server"

// Assumes our test database is named "test"
task clearMongoDB(type: Exec) {
     group = 'Database'
     description = 'Drops the local MongoDB test database'
     executable "mongo"
     args = ["ddg", "--eval", "printjson(db.dropDatabase())"]
}

task seedFlowerData(type: Exec) {
     group = 'Database'
     description = 'Seeds the flower collection on local test DB using flowers.seed.json'
     executable = "mongoimport"
     args = ["-d", "realD", "-c", "flowers", "--file", "flowers.seed.json", "--jsonArray"]
}

task seedMongoDB { }
seedMongoDB.dependsOn(clearMongoDB)
seedMongoDB.dependsOn(seedFlowerData)
